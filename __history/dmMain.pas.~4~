unit dmMain;

interface

uses
  System.SysUtils, System.Classes, REST.Types, REST.Client,
  Data.Bind.Components, Data.Bind.ObjectScope;

type
  TfrmMain = class(TDataModule)
    RESTClient: TRESTClient;
    RESTRequest: TRESTRequest;
    RESTResponse: TRESTResponse;
  private
    { Private declarations }
  public
    { Public declarations }
    function GetWeatherData(Alat,Along : double) : string;
  end;

var
  frmMain: TfrmMain;

implementation

{%CLASSGROUP 'FMX.Controls.TControl'}

{$R *.dfm}

{ TDataModule1 }

function TfrmMain.GetWeatherData(Alat, Along: double): string;
begin
  RESTClient.BaseURL := 'https://api.open-meteo.com/v1/forecast?latitude=15.472&longitude=73.8958'
        + '&current=temperature_2m,apparent_temperature,is_day,precipitation,rain,showers,cloud_cover,'
        + 'wind_speed_10m,wind_direction_10m&hourly=temperature_2m&daily=temperature_2m_max,sunrise,'
        + 'sunset,daylight_duration,rain_sum,wind_speed_10m_max&timezone=Asia%2FBangkok';
end;

end.
